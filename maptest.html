<!DOCTYPE html>
<html>

<head>

    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD4FP6G_FHqMd-pUMFizFY9_bOMmjkpqeU&libraries=geometry,places&callback=initMap"
        async defer></script>

    <style>
        /* Always set the map height explicitly to define the size of the div
      * element that contains the map. */
        #map {
            height: 50%;
            width: 50%
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <form id="addressForm">
        <label for="address1">First Address</label>
        <input type="text" id="address1">
        <br>
    </form>


    <div id="map"></div>


    <script>




        var map;

        var myAddress = {
            lat: 39.105040, lng: -94.436050
        };
        var school = {
            lat: 38.898320, lng: -94.723640
        };
        var kansasCity = {
            lat: 39.09973, lng: -94.57857
        };

        // Funtions made to covert meters to miles, and miles to meters 
        function convertToMiles(x) {
            var miles = x * 0.000621371;

            return miles;

        };

        function convertToMeters(x) {
            var meters = x * 1609.344;

            return meters;
        };





        function initMap() {


            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 39.09973, lng: -94.57857 },
                zoom: 10
            });



            var marker = new google.maps.Marker({ position: myAddress, map: map });
            var marker1 = new google.maps.Marker({ position: school, map: map });


            // var distanceBetween = google.maps.geometry.spherical.computeDistanceBetween(marker, marker1);
            // console.log(distanceBetween);

            var _kCord = new google.maps.LatLng(myAddress.lat, myAddress.lng);
            var _pCord = new google.maps.LatLng(school.lat, school.lng);

            var centerPosition = google.maps.geometry.spherical.interpolate(_kCord, _pCord, 0.5)
            var marker2 = new google.maps.Marker({ position: centerPosition, map: map });

            var distanceInMeters = google.maps.geometry.spherical.computeDistanceBetween(_kCord, _pCord);

            var distanceToMiles = distanceInMeters * 0.000621371;

            console.log(distanceInMeters);
            console.log(distanceToMiles);


            var circleMarker = new google.maps.Marker({
                map: map,
                position: centerPosition,
                title: 'Some location'
            });

            // Add circle overlay and bind to marker


            var circle = new google.maps.Circle({
                map: map,
                radius: convertToMeters(distanceToMiles / 4),    // 10 miles in metres
                fillColor: '#AA0000'
            });
            console.log("Meters Covered in Radius: " + convertToMeters(10));
            circle.bindTo('center', circleMarker, 'position');

            var address1 = $('#address1').val().trim();
            var geocoder = new google.maps.Geocoder();
            var googleMaps = new google.maps.Geocoder();

            var addressConverter = geocoder.geocode({ 'address': address1 }, function (results, status) {


                var latitude = results[0]
                var longitude = results[0]



            });







        };

        // Create marker 

    </script>

</body>

</html>